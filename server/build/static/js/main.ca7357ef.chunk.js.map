{"version":3,"sources":["apis/RestaurantFinder.js","components/AddReview.jsx","components/StarRating.jsx","components/Reviews.jsx","context/RestaurantsContext.js","routes/RestaurantDetailPage.jsx","components/AddRestaurant.jsx","components/Header.jsx","components/RestaurantList.jsx","routes/Home.jsx","components/UpdateRestaurant.jsx","routes/UpdatePage.jsx","App.jsx","index.js"],"names":["axios","create","baseURL","AddReview","id","useParams","location","useLocation","console","log","history","useHistory","useState","name","setName","reviewText","setReviewText","rating","setRating","handleSubmitReview","e","a","preventDefault","RestaurantFinder","post","review","push","pathname","className","action","htmlFor","value","onChange","target","placeholder","type","disabled","onClick","StarRating","stars","i","Math","ceil","Number","isInteger","Reviews","reviews","map","style","maxWidth","RestaurantsContext","createContext","RestaurantsContextProvider","props","restaurants","setRestaurants","selectedRestaurant","setSelectedRestaurant","Provider","addRestaurant","restaurant","children","RestaurantDetailPage","useContext","useEffect","get","response","data","fetchData","average_rating","count","AddRestaurant","setLocation","priceRange","setPriceRange","handleSubmit","price_range","Header","RestaurantList","handleDelete","stopPropagation","delete","filter","renderRating","scope","repeat","handleUpdate","Home","UpdateRestaurant","put","UpdatePage","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca7357ef.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? '/api/v1/restaurants' : \"http://localhost:3001/api/v1/restaurants\";\nexport default axios.create({\n    baseURL\n});\n\n","import React, { useState } from \"react\";\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\nimport { useLocation, useParams, useHistory } from \"react-router-dom\";\n\nconst AddReview = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  console.log(location);\n  const history = useHistory();\n  console.log(id);\n\n  const [name, setName] = useState(\"\");\n  const [reviewText, setReviewText] = useState(\"\");\n  const [rating, setRating] = useState(\"Rating\");\n\n  const handleSubmitReview = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await RestaurantFinder.post(`/${id}/addReview`, {\n        name,\n        review: reviewText,\n        rating,\n      });\n      history.push(\"/\");\n      history.push(location.pathname);\n    } catch (err) {}\n  };\n  return (\n    <div className=\"mb-2\">\n      <form action=\"\">\n        <div className=\"form-row\">\n          <div className=\"form-group col-8\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              id=\"name\"\n              placeholder=\"name\"\n              type=\"text\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"form-group col-4\">\n            <label htmlFor=\"rating\">Rating</label>\n            <select\n              value={rating}\n              onChange={(e) => setRating(e.target.value)}\n              id=\"rating\"\n              className=\"custom-select\"\n            >\n              <option disabled>Rating</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Review\">Review</label>\n          <textarea\n            value={reviewText}\n            onChange={(e) => setReviewText(e.target.value)}\n            id=\"Review\"\n            className=\"form-control\"\n          ></textarea>\n        </div>\n        <button\n          type=\"submit\"\n          onClick={handleSubmitReview}\n          className=\"btn btn-primary\"\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddReview;","import React from 'react'\n\nconst StarRating = ({ rating }) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++){\n        if (i <= rating){\n          stars.push(<i key={i} className=\"fas fa-star text-warning\"></i>);\n        } else if (i === Math.ceil(rating) && !Number.isInteger(rating)) {\n          stars.push(<i key={i} className=\"fas fa-star-half-alt text-warning\"></i>);\n        } else {\n          stars.push(<i key={i} className=\"far fa-star text-warning\"></i>);\n        }\n        }\n        \n\n    return (\n         <>{stars}</>\n    )\n}\n\nexport default StarRating\n","import React from 'react'\nimport StarRating from './StarRating'\n\nconst Reviews = ({ reviews }) => {\n    return (\n        <div>\n            <div className=\"row row-cols-3 mb-2\">\n                    {reviews.map((review) => {\n                        return(\n                            <div key = {review.id} className=\"card text-white bg-primary mb-3 mr-4\" style={{maxWidth: \"30%\"}}>\n                            <div className=\"card-header d-flex justify-content-between\">\n                                <span>\n                                    {review.name}\n                                </span>\n                                <span>\n                                    <StarRating rating={review.rating} />\n                                </span>\n                            </div>\n                            <div className=\"card-body\">\n                                <p className=\"card-text\">\n                                    {review.review}\n                                </p>\n                            </div>\n                        </div>\n                        )\n                    })}\n            </div>\n        </div>\n    )\n}\n\nexport default Reviews\n","import React, {useState, createContext} from 'react';\n\n\nexport const RestaurantsContext = createContext();\n\nexport const RestaurantsContextProvider = props => {\n    const [restaurants, setRestaurants] = useState([])\n    //for details page\n    const [selectedRestaurant, setSelectedRestaurant] = useState(null)\n\n    const addRestaurant = (restaurant) => {\n        console.log(\"its reaching\")\n        setRestaurants([...restaurants, restaurant])\n    }; \n\n    return (\n        <RestaurantsContext.Provider value={{restaurants, \n            setRestaurants, \n            addRestaurant, \n            selectedRestaurant, \n            setSelectedRestaurant}}>\n\n                {props.children}\n        </RestaurantsContext.Provider>\n    )\n}","import React, { useContext, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport AddReview from '../components/AddReview';\nimport Reviews from '../components/Reviews';\nimport StarRating from '../components/StarRating';\nimport { RestaurantsContext } from '../context/RestaurantsContext';\n\n//putting the logic in this route to keep things simple\n//normally would make a separate component\nconst RestaurantDetailPage = () => {\n    const { id } = useParams();\n    const { selectedRestaurant, setSelectedRestaurant } = useContext(RestaurantsContext)\n\n    useEffect(() => {\n        const fetchData = async() => {\n            try {\n                const response = await RestaurantFinder.get(`/${id}`);\n                setSelectedRestaurant(response.data.data)\n            } catch (err) {\n                console.log(err)\n            }\n        };\n        fetchData();\n    }, [])\n\n\n    return (\n        <div>\n            {selectedRestaurant && (\n                <>\n                <h1 className={\"text-center display-1\"}>{selectedRestaurant.restaurant.name}</h1>\n                <div className=\"text-center\">\n                    <StarRating rating={selectedRestaurant.restaurant.average_rating} />\n                    <span className=\"text-warning ml-1\">\n                        {selectedRestaurant.restaurant.count ? `(${selectedRestaurant.restaurant.count})` : \"0\"}\n                    </span>\n                </div>\n                <div className=\"mt-3\">\n                    <Reviews reviews={selectedRestaurant.reviews} />\n                    <AddReview />\n                </div>\n                </>\n            ) }\n        </div>\n    )\n}\n\nexport default RestaurantDetailPage\n","import React, {useContext, useState} from 'react'\nimport RestaurantFinder from '../apis/RestaurantFinder'\nimport { RestaurantsContext } from '../context/RestaurantsContext';\n\nconst AddRestaurant = (props) => {\n    const {addRestaurant} = useContext(RestaurantsContext);\n    const [name, setName] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [priceRange, setPriceRange] = useState(\"Price Range\");\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try{    \n           const response = await RestaurantFinder.post(\"/\", {\n                name: name,\n                location: location,\n                price_range: priceRange\n            })\n            addRestaurant(response.data.data.restaurant);\n\n\n        }catch(err){\n            console.log(err)\n        }\n    }\n    return (\n        <div className=\"mb-4\">\n            <form action=\"\">\n                <div className=\"form-row\">\n                    <div className=\"col\">\n                        <input value={name} onChange={e=> setName(e.target.value)} type=\"text\" className=\"form-control\" placeholder=\"name\" />\n                    </div>\n                    <div className=\"col\">\n                        <input value={location} onChange={e=> setLocation(e.target.value)} type=\"text\" className=\"form-control\" placeholder=\"location\" />\n                    </div>\n                    <div className=\"col\">\n                        <select value={priceRange} \n                                onChange={e=> setPriceRange(e.target.value)} \n                                className=\"custom-select my-1 mr-sm-2\">\n                                    <option disabled>Price Range</option>\n                                    <option value=\"1\">$</option>\n                                    <option value=\"2\">$$</option>\n                                    <option value=\"3\">$$$</option>\n                                    <option value=\"4\">$$$$</option>\n                                    <option value=\"5\">$$$$$</option>\n                        </select>\n                    </div>\n                    <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AddRestaurant\n","import React from 'react'\n\nconst Header = () => {\n    return (\n        <div>\n        <h1 className=\"font-weight-light display-1 text-center\">\n            Restaurant Finder\n            </h1>\n        </div>\n    )\n}\n\nexport default Header\n","import React, { useEffect, useContext } from 'react';\nimport RestaurantFinder from '../apis/RestaurantFinder'\nimport { RestaurantsContext } from '../context/RestaurantsContext';\nimport { useHistory } from \"react-router-dom\";\nimport StarRating from './StarRating';\n\nconst RestaurantList = (props) => {\n    const {restaurants, setRestaurants} = useContext(RestaurantsContext)\n    let history = useHistory()\n    useEffect(() => {\n        const fetchData = async() => {\n            try{\n                const response = await RestaurantFinder.get(\"/\");\n                setRestaurants(response.data.data.restaurants)\n            }catch(err){\n                console.log(err)\n            }\n        }\n        fetchData();\n    }, [])\n\nconst handleDelete = async (e,id) => {\n    e.stopPropagation();\n    try {\n        const response = await RestaurantFinder.delete(`/${id}`)\n        setRestaurants(restaurants.filter(restaurant => {\n            return restaurant.id !== id\n        }))\n        console.log(response)\n    } catch(err) {\n        console.log(err)\n    }\n}\n\nconst handleRestaurantSelect = (id) => {\n    history.push(`/restaurants/${id}`)\n}\n\nconst handleUpdate = (e, id) => {\n    e.stopPropagation();\n    history.push(`/restaurants/${id}/update`)\n}\n\nconst renderRating = (restaurant) => {\n    if(!restaurant.count){\n        return <span className=\"text-warning\">0 reviews</span>\n    }\n    return(\n        <>\n        <StarRating rating={restaurant.id} />\n        <span className=\"text-warniing ml-1\">({restaurant.count})</span>\n        </>\n    )\n\n}\n    return(\n        <div className=\"list-group\">\n            <table className=\"table table-hover table-dark\">\n                <thead>\n                    <tr className=\"bg-primary\">\n                        <th scope=\"col\">Restaurant</th>\n                        <th scope=\"col\">Location</th>\n                        <th scope=\"col\">Price Range</th>\n                        <th scope=\"col\">Ratings (reviews)</th>\n                        <th scope=\"col\">Edit</th>\n                        <th scope=\"col\">Delete</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {/* <tr>\n                        <td>Five Guys</td>\n                        <td>New York</td>\n                        <td>$$</td>\n                        <td>Rating</td>\n                        <td><button className=\"btn btn-warning\">Update</button></td>\n                        <td><button className=\"btn btn-danger\">Delete</button></td>\n                    </tr>\n                    <tr>\n                        <td>Five Guys</td>\n                        <td>New York</td>\n                        <td>$$</td>\n                        <td>Rating</td>\n                        <td><button className=\"btn btn-warning\">Update</button></td>\n                        <td><button className=\"btn btn-danger\">Delete</button></td>\n                    </tr> */}\n                    {restaurants && restaurants.map(restaurant => {\n                        return(\n                        <tr onClick={() => handleRestaurantSelect(restaurant.id)} key={restaurant.id}>\n                            <td>{restaurant.name}</td>\n                            <td>{restaurant.location}</td>\n                            <td>{\"$\".repeat(restaurant.price_range)}</td>\n                            <td>{renderRating(restaurant)}</td>\n                            <td><button onClick = {(e) => handleUpdate(e, restaurant.id)} className=\"btn btn-warning\">Update</button></td>\n                            <td><button onClick={(e) => handleDelete(e, restaurant.id)}className=\"btn btn-danger\">Delete</button></td>\n                        </tr>\n                        )\n                    })}\n                    \n                </tbody>\n            </table>\n        </div>\n    )\n\n}\n\nexport default RestaurantList","import React from 'react';\nimport AddRestaurant from '../components/AddRestaurant';\nimport Header from '../components/Header';\nimport RestaurantList from '../components/RestaurantList';\n\nconst Home = () => {\n    return (\n        <div>\n            <Header />\n            <AddRestaurant />\n            <RestaurantList />\n        </div>\n    )\n}\n\nexport default Home","import React, { useState, useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport RestaurantFinder from '../apis/RestaurantFinder';\n\nconst UpdateRestaurant = (props) => {\n    const { id } = useParams()\n    let history = useHistory();\n    const [name, setName] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [price_range, setPriceRange] = useState(\"\");\n\n    //instead of context useEffect because it if you go straight to this\n    //page, the data won't be loaded for context api so it will give you\n    // an erro. So you have to get the data when component is called. \n    useEffect(() => {\n        const fetchData = async() => {\n            const response = await RestaurantFinder.get(`/${id}`)\n            console.log(response.data.data)\n            setName(response.data.data.restaurant.name)\n            setLocation(response.data.data.restaurant.location)\n            setPriceRange(response.data.data.restaurant.price_range)\n        }\n        fetchData()\n    }, [])\n\n    const handleSubmit = async(e) => {\n        e.preventDefault()\n        const updated = await RestaurantFinder.put(`/${id}`, {\n            name,\n            location,\n            price_range\n        })\n        history.push(\"/\")\n    }\n\n    return (\n        <div>\n            <form action=\"\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input value={name} \n                        onChange={e => setName(e.target.value)} \n                        id=\"name\" \n                        className=\"form-control\" \n                        type=\"text\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"location\">Location</label>\n                    <input value={location} \n                        onChange={e => setLocation(e.target.value)} \n                        id=\"location\" \n                        className=\"form-control\" \n                        type=\"text\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"price_range\">Price Range</label>\n                    <input value={price_range} \n                        onChange={e => setPriceRange(e.target.value)} \n                        id=\"price_range\" \n                        className=\"form-control\" \n                        type=\"number\"/>\n                </div>\n                <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default UpdateRestaurant\n","import React from 'react'\nimport UpdateRestaurant from '../components/UpdateRestaurant'\n\n\nconst UpdatePage = () => {\n    return (\n        <div>\n            <h1 className=\"text-center\"> Update Restaurant </h1>\n            <UpdateRestaurant />\n        </div>\n    )\n}\n\nexport default UpdatePage\n","import React from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport RestaurantDetailPage from './routes/RestaurantDetailPage';\nimport Home from './routes/Home';\nimport UpdatePage from './routes/UpdatePage';\nimport { RestaurantsContextProvider } from './context/RestaurantsContext';\n\nconst App = () => {\n\n    return (\n    <RestaurantsContextProvider>\n    <div className=\"container\">\n        <Router>\n            <Switch>\n                <Route exact path=\"/restaurants/:id/update\" component={UpdatePage}/>\n                <Route exact path=\"/restaurants/:id\" component={RestaurantDetailPage}/>\n                <Route exact path=\"/\" component={Home}/>\n            </Switch>\n        </Router>\n    </div>\n    </RestaurantsContextProvider>\n\n    )}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));"],"sourceRoot":""}